<div class="card" style="padding-top: 70px;">
  <!-- button ng-click="test()">Test</button -->
  <div class="card card-primary">
    <div class="card-header"><b>Suite Executions</b></div>
    <div class="card-body">
      <div class="text-center">
        <!-- pager -->
        <div id="page-div" *ngIf="pager.pages && pager.pages.length">
          <span *ngIf="pager.currentPage > 1" [ngClass]="{'disabled': pager.currentPage === 1}">
          <a [routerLink]="" (click)="setPage(1)"><< </a>
          </span>
          <span *ngIf="pager.currentPage > 1" [ngClass]="{'disabled': pager.currentPage === 1}">
          <a [routerLink]="" (click)="setPage(pager.currentPage - 1)">< </a>
          </span>
          <span *ngFor="let page of pager.pages" [ngClass]="{active:pager.currentPage === page}">
          <a [routerLink]="" (click)="setPage(page)">{{page}} </a>
          </span>
          <span *ngIf="pager.currentPage < pager.totalPages" [ngClass]="{'disabled': pager.currentPage === pager.totalPages}">
          <a [routerLink]="" (click)="setPage(pager.currentPage + 1)">> </a>
          </span>
          <span *ngIf="pager.currentPage < pager.totalPages" [ngClass]="{'disabled': pager.currentPage === pager.totalPages}">
          <a [routerLink]="" (click)="setPage(pager.totalPages)">>> </a>
          </span>
        </div>
      </div>
      <fun-spinner [status]="status"></fun-spinner>
      <table class="table table-hover table-responsive table-bordered">
        <tr style="text-align: center">
          <th>Id</th>
          <th>Result</th>
          <th><label data-placement="top" data-toggle="tooltip" title="Passed"
                     class="badge badge-success">Passed</label></th>
          <th><label data-placement="top" data-toggle="tooltip" title="Failed"
                     class="badge badge-danger">Failed</label></th>
          <th><label data-placement="top" data-toggle="tooltip" title="Not Run"
                     class="badge badge-secondary">Not Run</label></th>
          <th><label data-placement="top" data-toggle="tooltip" title="In Progress"
                     class="badge badge-info">In Progress</label></th>
          <th><label data-placement="top" data-toggle="tooltip" title="Skipped"
                     class="badge badge-warning">Skipped</label></th>
          <th># TC</th>
          <th>Version</th>
          <th>Scheduled At</th>
          <th>Path</th>
          <th>Scheduler Log</th>
          <th>Log Dir</th>
          <th>Action</th>
          <th>Tags</th>

        </tr>
        <tr *ngIf="suiteExecutionsCount === 0">
          <td colspan="15">
            No Data Found
          </td>
        </tr>
        <tr style="text-align: center" *ngFor="let suiteExecution of items">
          <td>{{ suiteExecution.fields.execution_id }}</td>
          <td [ngClass]="{'table-danger': suiteExecution.suite_result === 'FAILED'}">
            <a [routerLink]="" (click)="getSuiteDetail(suiteExecution.fields.execution_id)" [ngClass]="'text-'+
                          resultToClass(suiteExecution.suite_result)">{{ suiteExecution.suite_result }}
            </a>
          </td>
          <td>{{ suiteExecution.num_passed }}</td>
          <td>{{ suiteExecution.num_failed }}</td>
          <td>{{ suiteExecution.num_not_run }}</td>
          <td>{{ suiteExecution.num_in_progress }}</td>
          <td>{{ suiteExecution.num_skipped }}</td>
          <td>{{ testCaseLength(suiteExecution.fields.test_case_execution_ids) }}</td>
          <td>{{ suiteExecution.fields.version }}</td>
          <td>{{ trimTime(suiteExecution.fields.scheduled_time) }}</td>
          <td>{{ suiteExecution.fields.suite_path }}</td>
          <td><a target="_blank" href="{{ getSchedulerLog(suiteExecution.fields.execution_id) }}">Log</a></td>
          <td><a target="_blank" href="{{ getSchedulerLogDir(suiteExecution.fields.execution_id) }}">s_{{suiteExecution.fields.execution_id}}</a>
          </td>
          <td>
            <span data-placement="top" data-toggle="tooltip" title="Re-run"
                    (click)="rerunClick(suiteExecution.fields.execution_id)" class="anchor-button pseudo-anchor">
              Re-run</span>
            &nbsp;
            <span style="display: inline-flex"
              [hidden]="(suiteExecution.suite_result === 'ABORTED') || (suiteExecution.suite_result === 'KILLED') || ((suiteExecution.suite_result === 'PASSED') || (suiteExecution.suite_result === 'FAILED'))"
              data-placement="top" data-toggle="tooltip" title="Stop/Kill"
              (click)="killClick(suiteExecution.fields.execution_id)" class="anchor-button pseudo-anchor">&nbsp;Kill</span>
          </td>
          <td>
            <label *ngFor="let tag of getTagList(suiteExecution.fields.tags)" class="badge badge-primary">{{ tag
              }}</label>
          </td>
        </tr>
      </table>
    </div>
  </div>

</div>

{
  "CreateTrafficMixCommand": {
    "title": "Schema for the MixInfo of the spirent.methodology.traffic.CreateTrafficMixCommand.",
    "description": "allOf doesn't inherit, but indepdently validates JSON (http://stackoverflow.com/questions/22689900/json-schema-allof-with-additionalproperties) using referenced schemas. Switched to use multiple references to keep additionalProperties false",
    "type":"object",
    "additionalProperties": false,
    "properties": {
      "enable": {
        "description":"A flag indicating this entire traffic mix should be created.",
        "type":"boolean"
      },
      "load": {
        "description": "Traffic mix total load in appropriate units.",
        "type": "number"
      },
      "loadUnits": {
        "description": "Traffic load units.",
        "enum": [
          "PERCENT_LINE_RATE",
          "FRAMES_PER_SECOND",
          "INTER_BURST_GAP",
          "BITS_PER_SECOND",
          "KILOBITS_PER_SECOND",
          "MEGABITS_PER_SECOND",
          "L2_MEGABITS_PER_SECOND"
        ]
      },
      "table": {
        "description": "A list of components that make up the mixture.",
        "type": "array",
        "minItems": 0,
        "items": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "enable": {
              "$ref":"#/CreateTemplateConfigCommand/properties/enable"
            },
            "weight": {
              "description": "Percent weight of the total load to assign to this component.",
              "type": "string"
            },
            "appliedValue": {
              "description": "Load actually assigned to this component.  Autocalculated, do not set.",
              "type": "number"
            },
            "tagPrefix": {
              "$ref":"#/CreateTemplateConfigCommand/properties/tagPrefix"
            },
            "baseTemplateFile": {
              "$ref":"#/CreateTemplateConfigCommand/properties/baseTemplateFile"
            },
            "modifyList": {
              "$ref":"#/CreateTemplateConfigCommand/properties/modifyList"
            },
            "postExpandModify": {
              "description": "A list of operations that will be carried out on datamodel objects after the template is expanded.",
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "enable": {
                    "description": "A flag indicating if this post expansion operation should be run.",
                    "type": "boolean"
                  },
                  "streamBlockExpand": {
                    "description": "Process project-level streamblocks and expand onto ports.",
                    "type": "object",
                    "properties": {
                      "endpointMapping": {
                        "description": "Description of end points that will be mapped on the port-level streamblocks.",
                        "type": "object",
                        "properties": {
                          "bidirectional": {
                            "description": "True if a streamblock is to be created for both directions (flipping the src and dst for the second streamblock), false if only one direction, must be false for MESH configuration.",
                            "type": "boolean"
                          },
                          "srcBindingClassList": {
                            "type": "array",
                            "items": {
                              "description": "The classname that we will search the srcBindingTagList objects for.",
                              "type": "string"
                            }
                          },
                          "srcBindingTagList": {
                            "type": "array",
                            "items": {
                              "description": "List of tag names for streamblock source binding endpoints.",
                              "type": "string"
                            }
                          },
                          "dstBindingClassList": {
                            "type": "array",
                            "items": {
                              "description": "The classname that we will search the dstBindingTagList objects for.",
                              "type": "string"
                            }
                          },
                          "dstBindingTagList": {
                            "type": "array",
                            "items": {
                              "description": "List of tag names for streamblock destination binding endpoints, not used in MESH configuration.",
                              "type": "string"
                            }
                          }
                        },
                        "required": [
                          "srcBindingTagList"
                        ],
                        "additionalProperties": false
                      }
                    },
                    "required": [
                      "endpointMapping"
                    ]
                  }
                },
                "required": [
                  "streamBlockExpand"
                ]
              }
            },
            "expand": {
              "type": "object",
              "properties": {
                "enable": {
                  "description":"A flag indicating if the templates should be expanded (ie expand raw streamblocks directly onto ports).",
                  "type":"boolean"
                },
                "targetTagList": {
                  "description": "List of Target Tags passed to expand",
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "copiesPerParent": {
                  "description": "streamblocks to make per parent",
                  "type": "number"
                },
                "srcTagList": {
                  "description": "List of Source Tags passed to expand",
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              },
              "required": [
                "targetTagList"
              ]
            }
          },
          "required": [
            "weight"
          ]
        }
      }
    },
    "required": [
      "loadUnits",
      "table"
    ]
  }
}

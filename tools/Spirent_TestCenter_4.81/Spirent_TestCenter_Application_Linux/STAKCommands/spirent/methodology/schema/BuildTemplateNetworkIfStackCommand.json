{
  "BuildTemplateNetworkIfStackSchema": {
    "$schema": "http://json-schema.org/draft-04/schema#",
    "description": "JSON specification to build the network stack under a device.  Stacks are defined as lists of network interfaces, outermost interfaces appearing first.  Where the stack branches into different upper layers (ie for dual stack), the stackSplit object allows multiple stacks to be attached.",
    "type": "array",
    "items": {
      "$ref": "#/BuildTemplateNetworkIfStackSchema/definitions/interface"
    },
    "definitions": {
      "interface": {
        "description": "A specific network interface to insert under a device.",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "useIf": {
            "description": "A flag indicating that the interface is to be inserted.  If set to false, the interface is not inserted and is effectively skipped.  The next interface will be stacked on the one before this.",
            "type": "boolean"
          },
          "className": {
            "description": "The class name of the interface, ie EthIIIf or Ipv4If.",
            "type": "string"
          },
          "tagName": {
            "description": "The name to assign a tag to tag this interface with.",
            "type": "string"
          },
          "isLowestLayer": {
            "description": "A flag indicating that the interface is the lowest layer.",
            "type": "boolean"
          },
          "isTopLevel": {
            "description": "A flag indicating that the interface is a Top-Level Interface.",
            "type": "boolean"
          },
          "isPrimary": {
            "description": "A flag indicating that the interface is a primary interface.",
            "type": "boolean"
          },
          "stackSplit": {
            "description": "An intermediate object that contains a list of a list of interfaces.  Each interface list will be stacked on this interface.",
            "type": "array",
            "items": {
              "type": "array",
              "items": {
                "$ref": "#/BuildTemplateNetworkIfStackSchema/definitions/interface"
              }
            }
          }
        },
        "required": [
          "className",
          "tagName"
        ]
      }
    }
  }
}

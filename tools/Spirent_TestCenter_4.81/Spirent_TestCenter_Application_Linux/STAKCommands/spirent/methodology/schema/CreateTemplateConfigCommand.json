{
  "Operations":{
    "definitions":{
      "merge":{
        "description":"An operation to change",
        "type":"object",
        "additionalProperties":false,
        "properties":{
          "enable":{
            "description":"A flag indicating if this object should be merged into the template configuration.",
            "type":"boolean"
          },
          "mergeSourceTag":{
            "description":"The name of the tag in the XML file from which tagged elements will be merged into the StmTemplateConfig.",
            "type":"string"
          },
          "mergeSourceTemplateFile":{
            "description":"The path to the source XML file.",
            "type":"string"
          },
          "mergeTargetTag":{
            "description":"The name of the tag in the StmTemplateConfig where elements from the XML file will be merged into.",
            "type":"string"
          },
          "mergeTagPrefix":{
            "description":"A string that will be prefixed to the tags that are merged from the source file to the StmTemplateConfig.",
            "type":"string"
          },
          "operationList":{
            "description":"A list of operations that will be carried out on the template using the same prefixed tags.",
            "type":"array",
            "items":{
              "type":"object",
              "onOf":[
                {
                  "propertyValue":{
                    "$ref":"#/Operations/definitions/propertyValue"
                  }
                },
                {
                  "stmPropertyModifier":{
                    "$ref":"#/Operations/definitions/stmPropertyModifier"
                  }
                }
              ]
            }
          }
        },
        "required":[
          "mergeSourceTag",
          "mergeSourceTemplateFile",
          "mergeTargetTag"
        ]
      },
      "pduBuilder": {
        "description":"An operation to build and overwrite a StreamBlock's FrameConfig.",
        "type":"object",
        "additionalProperties":false,
        "properties":{
          "pduData": {
            "$ref":"#/CreatePdusCommand"
          },
          "tagNameList": {
              "description": "List of tag names that tag StreamBlock objects whose FrameConfigs will be overwritten",
              "type": "array"
          }
        },
        "required":[
          "pduData",
          "tagNameList"
        ]
      },
      "propertyValue":{
        "description":"An operation to change the value of a property on a tagged object.",
        "type":"object",
        "additionalProperties":false,
        "properties":{
          "enable":{
            "description":"A flag indicating if this object should be merged into the template configuration.",
            "type":"boolean"
          },
          "className":{
            "description":"Class name of the object type that properties will be modified on.",
            "type":"string"
          },
          "tagName":{
            "description":"Name of the tag that tags objects of type className.",
            "type":"string"
          },
          "propertyValueList":{
            "description":"List of property-value pairs that will be modified.",
            "type":"object",
            "additionalProperties":{
                "type": "string",
                "$ref": "#/Operations/definitions/valid_property_value"
            }
          }
        },
        "required":[
          "className",
          "tagName",
          "propertyValueList"
        ]
      },
      "stmPropertyModifier":{
        "description":"An operation to add or configure StmPropertyModifiers in the StmTemplateConfig.",
        "type":"object",
        "additionalProperties":false,
        "properties":{
          "enable":{
            "description":"A flag indicating if this object should be merged into the template configuration.",
            "type":"boolean"
          },
          "className":{
            "description":"Class name of the object type that properties will be modified on.",
            "type":"string"
          },
          "tagName":{
            "description":"Name of the tag that tags objects of type className.",
            "type":"string"
          },
          "parentTagName":{
            "description":"Name of the tag that tags the object that an StmPropertyModifier will be added or configured on.",
            "type":"string"
          },
          "propertyName":{
            "description":"Name of the property that an StmPropertyModifier is being attached onto.",
            "type":"string"
          },
	  "pduOffsetReference":{
            "description":"An offset into a PDU XML config given in the form pdu_name.pdu_property.  If specified, will update only the referenced attribute in XML.  This should only be used when the value being modified is a PDU XML string.",
            "type":"string"
          },
          "propertyValueList":{
            "description":"List of property-value pairs that will be modified.  This list should contain property names that exist in the StmPropertyModifier's ModifierInfo.",
            "type":"object",
            "additionalProperties":false,
            "properties":{
              "Start":{
                "description":"The start value.",
                "$ref": "#/Operations/definitions/valid_property_value"
              },
              "Step":{
                "description":"The step value.",
                "$ref": "#/Operations/definitions/valid_property_value"
              },
              "Repeat":{
                "description":"The number of times to repeat a value before stepping.",
                "$ref": "#/Operations/definitions/valid_integer_value"
              },
              "Recycle":{
                "description":"The number of times a value is stepped before starting over.",
                "$ref": "#/Operations/definitions/valid_integer_value"
              },
              "ModifierType":{
                "description":"The type of modifier to be applied, for example RANGE.",
                "type":"string"
              },
              "TargetObjectStep":{
                "description":"The step value to apply when a new target object is encountered.",
                "$ref": "#/Operations/definitions/valid_property_value"
              },
              "ResetOnNewTargetObject":{
                "description":"Reset the running value to start (plus any target object step) when a new target object is encountered.",
                "type":"boolean"
              }
            }
          }
        },
        "required":[
          "className",
          "tagName",
          "propertyValueList"
        ]
      },
      "pduModifier":{
        "description":"An operation to change the values in a StreamBlock's FrameConfig.",
        "type":"object",
        "additionalProperties":false,
        "properties":{
          "enable":{
            "description":"A flag indicating if this object should be merged into the template configuration.",
            "type":"boolean"
          },
          "templateElementTagName":{
            "description":"Name of the tag that tags StreamBlock objects.",
            "type":"string"
          },
          "offsetReference":{
            "description":"String in the form of . that refers to a particular field in a particular PDU that will be modified.",
            "type":"string"
          },
          "value":{
            "description":"String value for the PDU property.",
            "type":"string"
          }
        },
        "required":[
          "offsetReference"
        ]
      },
      "addObject":{
        "description":"An operation to add an object to the template.",
        "type":"object",
        "additionalProperties":false,
        "properties":{
          "enable":{
            "description":"A flag indicating if this object should be merged into the template configuration.",
            "type":"boolean"
          },
          "className":{
            "description":"Class name of the object type that will be added.",
            "type":"string"
          },
          "parentTagName":{
            "description":"Name of the tag that tags parent objects for type className.",
            "type":"string"
          },
          "tagName":{
            "description":"Name of the tag that tags newly created objects of type className.",
            "type":"string"
          },
          "propertyValueList":{
            "description":"List of property-value pairs that will be modified.",
            "type":"object",
            "additionalProperties":{
                "type": "string",
                "description": "Property values are of type string."
            }
          }
        },
        "required":[
          "className",
          "parentTagName",
          "tagName"
        ]
      },
      "relation":{
        "description":"An operation to add or remove relations between elements in the StmTemplateConfig..",
        "type":"object",
        "additionalProperties":false,
        "properties":{
          "enable":{
            "description":"A flag indicating if this object should be merged into the template configuration.",
            "type":"boolean"
          },
          "relationType":{
            "description":"The type of relation to add or remove, ie StackedOnEndpoint or UsesIf.",
            "type":"string"
          },
          "removeRelation":{
            "description":"A flag indicating if the relation should be removed if found.",
            "type":"boolean"
          },
          "targetTag":{
            "description":"Name of the tag that tags an object that is the target of the relation.",
            "type":"string"
          },
          "sourceTag":{
            "description":"Name of the tag that tags an object that is the source of the relation.",
            "type":"string"
          }
        },
        "required":[
          "relationType",
          "targetTag"
        ]
      },
      "buildStack":{
        "description":"An operation to build the network stack under a device.",
        "type":"object",
        "additionalProperties":false,
        "properties":{
          "enable":{
            "description":"A flag indicating if this object should be merged into the template configuration.",
            "type":"boolean"
          },
          "deviceTagName":{
            "description":"The tag name of the device to build the network stack on.",
            "type":"string"
          },
          "stack":{
            "description":"A list of network interfaces to define the network stack.  Outermost interfaces appear first.  Where the stack branches into different upper layers (ie for dual stack), the stackSplit object allows multiple stacks to be attached.",
            "type":"array",
            "items":{
              "$ref":"#/BuildTemplateNetworkIfStackSchema/definitions/interface"
            }
          }
        },
        "required":[
          "deviceTagName",
          "stack"
        ]
      },
      "valid_property_value": {
        "description": "Representation of a value that can take any form.",
        "oneOf": [
          {
            "type": "string"
          },
          {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        ]
      },
      "valid_integer_value": {
        "description": "Representation of an integer value that can take any form.",
        "oneOf": [
          {
            "type": "integer"
          },
          {
            "type": "array",
            "items": {
              "type": "integer"
            }
          }
        ]
      }
    }
  },
  "CreateTemplateConfigCommand":{
    "title":"Schema for InputJson of the spirent.methodology.CreateTemplateConfigCommand.",
    "type":"object",
    "additionalProperties": false,
    "properties":{
      "enable":{
        "description":"A flag indicating if this object should be merged into the template configuration.",
        "type":"boolean"
      },
      "tagPrefix":{
        "description":"String that will be prefixed to all tags loaded and used in this template.",
        "type":"string"
      },
      "baseTemplateFile":{
        "description":"Base template file that will be loaded into the StmTemplateConfig.  All modifications in the modifyList will be applied to the contents loaded out of this file.",
        "type":"string"
      },
      "modifyList":{
        "description":"A list of operation groups that will be carried out on the template.",
        "type":"array",
        "items":{
          "type":"object",
          "additionalProperties":false,
          "properties":{
            "enable":{
              "description":"A flag indicating if this object should be merged into the template configuration.",
              "type":"boolean"
            },
            "description": {
              "description": "A description of what this group of operations does.",
              "type":"string"
            },
            "operationList": {
              "description": "A list of operations that will be carried out on the template.",
              "type": "array",
              "additionalProperties":false,
              "items": {
                "type": "object",
                "properties": {
                  "merge": {
                    "$ref":"#/Operations/definitions/merge"
                  },
                  "pduBuilder": {
                    "$ref":"#/Operations/definitions/pduBuilder"
                  },
                  "propertyValue": {
                    "$ref":"#/Operations/definitions/propertyValue"
                  },
                  "stmPropertyModifier": {
                    "$ref":"#/Operations/definitions/stmPropertyModifier"
                  },
                  "pduModifier": {
                    "$ref":"#/Operations/definitions/pduModifier"
                  },
                  "addObject": {
                    "$ref":"#/Operations/definitions/addObject"
                  },
                  "relation": {
                    "$ref":"#/Operations/definitions/relation"
                  },
                  "buildStack": {
                    "$ref":"#/Operations/definitions/buildStack"
                  }
                }
              }
            }
          }
        }
      }
    },
    "required": [
      "baseTemplateFile"
    ]
  }
}

<?xml version="1.0"?>
<testCase version="3.4.0.39989">
    <execution estimatedExecutionTime="6"/>
    <procedures>
        <item name="main">
            <steps>
                <item guid="0694384a-8571-46b7-abbe-2108feeb34bb" action="open" session="t1">
                    <command>
                        <body>project://Spirent/session_profiles/common_telnet_JuniperMx480.ffsp</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                        <stepProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        <sessionProperties type="com.fnfr.svt.applications.telnet.documents.TelnetSessionProperties"/>
                    </applicationProperties>
                </item>
                <item guid="1a6ed97e-85ed-490a-9f2d-6c5edc3d789b" action="command" session="t1" normalOffset="4.281">
                    <command>
                        <body>admin</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <completionProperties expectedIdleTime="0.422" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="e556cf80-92a9-4710-bd0e-4a4adddac6bf" action="command" session="t1" normalOffset="2.703">
                    <command>
                        <body>Spirent</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="3133b418-81a7-4a3d-9732-47181bf78f8b" action="command" session="t1">
                    <command>
                        <body>file copy ftp://spirent:spirent@$host/$file $file</body>
                    </command>
                    <postProcessing>
                        <storeResponseAt>copy_result</storeResponseAt>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="0f4c2d3d-04d8-4510-969a-e640ec88e4d2" action="eval">
                    <command>
                        <body>set cpresult [ response copy_result {.*100%.*} ]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="7b0a044e-2df8-4844-9d8a-c26b53354e76" action="if">
                    <command>
                        <body>[regexp {100%} $cpresult dummary d1 ] == 0 </body>
                    </command>
                    <nestedSteps>
                        <item guid="e8d064eb-2ff7-4bc2-87e8-7552a411bedf" action="then">
                            <nestedSteps>
                                <item guid="6683bb98-0e9e-4866-9015-690cbdafa8d5" action="eval">
                                    <command>
                                        <body>puts &quot;False&quot;</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="contains">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                        <searchString>False</searchString>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="message">
                                                    <ruleProperties type="com.fnfr.svt.testcase.documents.MessageProcessorPropertyGroup">
                                                        <message>{auto_message}</message>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="78e81014-5a33-44b9-929a-d63a99bcfdb4" action="else">
                            <nestedSteps>
                                <item guid="05fd73d8-33d0-45e3-b4ac-9eeb7adf8a83" action="comment">
                                    <command>
                                        <body>Insert steps here for when the expression evaluates to false</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="a21f1b99-9105-40b0-a3dd-c73b96216788" action="if">
                    <command>
                        <body>$backupcfg == &quot;startup-config&quot;</body>
                    </command>
                    <nestedSteps>
                        <item guid="a545ab64-aeeb-43c4-8dc1-f6b579e05baa" action="then">
                            <nestedSteps>
                                <item guid="c8b5a00d-9359-43c9-aa09-b6f47c7c8490" action="return">
                                    <command>
                                        <body>0</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="05230118-10e4-4abb-84bd-8cd30874f383" action="else">
                            <nestedSteps>
                                <item guid="f69d342d-c53c-4928-a639-83544fd7b7e9" action="comment">
                                    <command>
                                        <body>Insert steps here for when the expression evaluates to false</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="6cf5904c-4d7d-4f5a-a980-be1cdbfa713f" action="command" session="t1">
                    <command>
                        <body>configure</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="85d3b047-1cfc-497e-ba0c-adbb5010cab5" action="command" session="t1" normalOffset="11.969">
                    <command>
                        <body>load replace $file</body>
                    </command>
                    <postProcessing>
                        <storeResponseAt>load_result</storeResponseAt>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                        <promptProperties>
                            <alsoUseSessionPrompts inherit="false" defaultValue=""/>
                        </promptProperties>
                        <completionProperties expectedIdleTime="3.406" expectedIdleTime.inherit="false"/>
                    </applicationProperties>
                </item>
                <item guid="8e749e63-633a-453b-8af9-9fc6a3ed2619" action="command" session="t1">
                    <command>
                        <body>commit</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="17c07976-88de-43da-97f0-eee5b180a9d0" action="command" session="t1">
                    <command>
                        <body>quit</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="851f96d5-f0cd-4900-bb6a-646f904af91c" action="command" session="t1">
                    <command>
                        <body> file delete $file</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="1be7265c-fc8c-491d-b093-e18a2941349e" action="close" session="t1">
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                </item>
                <item guid="0353e568-9a9e-4a69-8f6b-3377c28dd0ea" action="eval">
                    <command>
                        <body>set result [ response load_result {.*} ]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="f639feef-ada9-44e2-8059-c51c8b230e9a" action="eval">
                    <command>
                        <body>puts $result</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="e52fe5e1-9dce-4b95-ba2c-e58c2a62a431" action="if">
                    <command>
                        <body>[regexp {complete} $result dummary d1 ] == 0 </body>
                    </command>
                    <nestedSteps>
                        <item guid="3b2c6b54-3dff-42a2-9654-505531e3e6c5" action="then">
                            <nestedSteps>
                                <item guid="3ad87406-bc62-4b96-9308-1592dbd9d210" action="eval">
                                    <command>
                                        <body>puts &quot;False&quot;</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="contains">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                        <searchString>False</searchString>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="message">
                                                    <ruleProperties type="com.fnfr.svt.testcase.documents.MessageProcessorPropertyGroup">
                                                        <message>{auto_message}</message>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="ff7df235-2425-4f8a-8e77-93250e4c6134" action="else">
                            <nestedSteps>
                                <item guid="9378dca4-3459-4361-be95-cee9edd3ad32" action="comment">
                                    <command>
                                        <body>Insert steps here for when the expression evaluates to false</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <arguments>
                <item name="session"/>
                <item name="host">
                    <defaultValue>10.61.18.105</defaultValue>
                </item>
                <item name="file">
                    <defaultValue>swj</defaultValue>
                </item>
                <item name="backupcfg">
                    <defaultValue>running-config</defaultValue>
                </item>
            </arguments>
        </item>
    </procedures>
</testCase>

<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:tocPath="Template Editor" MadCap:InPreviewMode="false" MadCap:PreloadImages="false" MadCap:RuntimeFileType="Topic" MadCap:TargetType="WebHelp" lang="en-us" xml:lang="en-us" class="" MadCap:PathToHelpSystem="../" MadCap:HelpSystemFileName="stc_ra.xml" MadCap:SearchType="Stem">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Template Editor Computed Stats Tab</title>
        <link href="spirent_univ.css" rel="stylesheet" />
        <script src="SkinSupport/jquery.min.js" type="text/javascript">
        </script>
        <script src="SkinSupport/MadCapAll.js" type="text/javascript">
        </script>
        <script src="SkinSupport/MadCapTopicAll.js" type="text/javascript">
        </script>
    </head>
    <body>
        <p><span style="font-family: sans-serif; font-size: 8pt;">Results Reporter Online Help <span style="color: #ffffff;">Results Reporter Help</span></span>
        </p>
        <h1 id="rr_te_computed.htm" xmlns="http://www.w3.org/1999/xhtml">Template Editor Computed Stats Tab </h1>
        <p xmlns="http://www.w3.org/1999/xhtml">Use the <strong>Computed Stats</strong> tab to calculate statistics based on values from the <strong>Reported Stats</strong> tab, to use in a template table or graph. Double-click a field to edit the value. Use the <strong>Compute</strong> button at the bottom of the window to update the <strong>Value</strong> field. </p>
        <p xmlns="http://www.w3.org/1999/xhtml">A list of computed statistics is shown at the top of the window. </p>
        <table width="90%" border="0" class="standard" xmlns="http://www.w3.org/1999/xhtml">
            <tr>
                <th scope="col">Field</th>
                <th scope="col">Description</th>
            </tr>
            <tr>
                <td>Name</td>
                <td>
                    <p>User-defined name for the statistic</p>
                    <p>Double-click to edit the name </p>
                    <p>This name is used on the <strong>Tables</strong> and <strong>Graphs</strong> tabs </p>
                </td>
            </tr>
            <tr>
                <td>Value</td>
                <td>
                    <p>Read-only display of the results of the computation </p>
                </td>
            </tr>
            <tr>
                <td>Script</td>
                <td>Read-only display of the script </td>
            </tr>
        </table>
        <p xmlns="http://www.w3.org/1999/xhtml">Use the buttons to add or remove a computed statistic from the list. </p>
        <table width="90%" border="0" class="standard" xmlns="http://www.w3.org/1999/xhtml">
            <tr>
                <th scope="col">Button</th>
                <th scope="col">Description</th>
            </tr>
            <tr>
                <td>New</td>
                <td>
                    <p>Add a statistic to the bottom of the list </p>
                    <p>Double-click the <strong>Name</strong> field to enter a name for this statistic to be used in the <strong>Tables</strong> and <strong>Graphs</strong> tabs </p>
                    <p>Edit the Tcl code in the <strong>Script</strong> window </p>
                </td>
            </tr>
            <tr>
                <td>Remove</td>
                <td>Remove the highlighted statistic from the list </td>
            </tr>
        </table>
        <h2 xmlns="http://www.w3.org/1999/xhtml">Script</h2>
        <p xmlns="http://www.w3.org/1999/xhtml">A computed statistic uses Tool Control Language (Tcl) to calculate values based on reported statistics and other computed statistics. To use a statistic (reported or computed), reference the name of the statistic as a variable. The order of the list of statistics on the <strong>Computed Stats</strong> tab is significant, as only those statistics higher in the list are available to reference as a variable. </p>
        <p xmlns="http://www.w3.org/1999/xhtml">For all computed statistics, the result is stored in a variable called <strong>result</strong>. Consequently, if you use the Tcl <strong>append</strong> command to build a list or a string, you must first set the result field <strong></strong> to clear the existing value. For example, if you are building a list with the append command inside a loop, the following command should appear before the loop: </p>
        <p xmlns="http://www.w3.org/1999/xhtml">set result [list] </p>
        <p xmlns="http://www.w3.org/1999/xhtml">Click the <strong>Compute</strong> button at any time to see the value of the statistic based on the Tcl code. The value of the statistic is displayed in the <strong>Value</strong> field in the list and the <strong>Value</strong> field at the bottom of the window. </p>
        <p xmlns="http://www.w3.org/1999/xhtml">For more sophisticated applications, it is possible to make dynamic queries into the results database at runtime using a java class. Here is an example of opening a connection to a database.</p>
        <blockquote xmlns="http://www.w3.org/1999/xhtml">
            <p>set db [java::call com.spirent.tc.core.db.SqlReaderFactory create $::dbname]</p>
        </blockquote>
        <p xmlns="http://www.w3.org/1999/xhtml"> And then running an SQL query with it:</p>
        <blockquote xmlns="http://www.w3.org/1999/xhtml">
            <p>set query "SELECT SqlQuery FROM ServiceClass WHERE Name = '$class'"<br /> 
            set tr [$db query $query]</p>
        </blockquote>
        <p xmlns="http://www.w3.org/1999/xhtml"> This example is taken from the ServiceClassValidation template.&#160; The full script is in the PassFail computed variable.</p>
        <hr width="100%" size="0" align="center" xmlns="http://www.w3.org/1999/xhtml" />
        <p class="related_information" xmlns="http://www.w3.org/1999/xhtml">Related Topics:</p>
        <p class="relatedtopic" xmlns="http://www.w3.org/1999/xhtml"><a href="rr_te_oview.htm">Results Reporter Template Editor Overview </a>
        </p>
        <p style="text-align: right;"><span style="font-family: sans-serif; font-size: 8pt;">Â© Spirent Communications</span>
        </p>
        <script type="text/javascript" src="SkinSupport/MadCapBodyEnd.js">
        </script>
    </body>
</html>
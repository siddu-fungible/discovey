<?xml version="1.0" encoding="UTF-8"?>
<PDU_LIBRARY xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="pdu_schema.xsd" name="faultOAM" showName="FAULT MANAGEMENT MESSAGE" version="1.00"
    description="This is a PDU library for Fault Management Message as defined in XML Stream Editor." userdefined="false">

  <TYPE_DEFS>
	<TYPE_DEF name="FaultOAMTlvList" type="SEQUENCE_OF" minOccurs="0" maxOccurs="250" 
											elementType="FaultOAMTlvs" unitType="ELEMENT"/>

    <TYPE_DEF name="FaultOAMTlvs" type="CHOICE" unitType="ELEMENT" uiShowName="FAULT OAM TLVs">
	  <FIELD name="interfaceIdTlv" type="InterfaceIdTlvType" uiShowName="IF_ID_TLV" />
	  <FIELD name="globalIdTlv" type="GlobalIdTlvType" uiShowName="GLOBAL_ID_TLV" />
	</TYPE_DEF>
	
    <TYPE_DEF name="PwStatusCode" type="OCTETSTRING" byteLength="4" unitType="ELEMENT" uiShowName="PW Status Code" >
      <VALUE_ENUMERATION>
		<VAL_ENUM uiShowName="1-PW forwarding (clear all failures) - 0x00" value="00000000" />
		<VAL_ENUM uiShowName="2-PW Not Forwarding - 0x01" value="00000001" />
		<VAL_ENUM uiShowName="3-Local AC (ingress) Receive Fault - 0x02" value="00000002" />
		<VAL_ENUM uiShowName="4-Local AC (egress) Transmit Fault - 0x04" value="00000004" />
		<VAL_ENUM uiShowName="5-Local PSN-facing PW (ingress) Receive Fault - 0x08" value="00000008" />
		<VAL_ENUM uiShowName="6-Local PSN-facing PW (egress) Transmit Fault - 0x10" value="00000010" />
		<VAL_ENUM uiShowName="7-PW forwarding standby - 0x20" value="00000020" />
		<VAL_ENUM uiShowName="8-Request switchover to this PW - 0x40" value="00000040" />
      </VALUE_ENUMERATION>
    </TYPE_DEF>

    <TYPE_DEF name="InterfaceIdTlvType" type="SEQUENCE" unitType="ELEMENT" uiShowName="Interface Identifier (IF_ID) TLV">
      <FIELD name="type" type="OCTETSTRING" byteLength="1" defaultValue="01" uiShowName="TLV Type"  />
      <FIELD name="length" type="OCTETSTRING" byteLength="1" defaultValue="08" uiShowName="Length"  />
      <FIELD name="nodeId" type="IPV4ADDR" defaultValue="192.0.0.1" uiShowName="Node ID" />
      <FIELD name="interfaceNum" type="INTEGER" bitLength="32" defaultValue="1" uiShowName="Interface Number" />
    </TYPE_DEF>

    <TYPE_DEF name="GlobalIdTlvType" type="SEQUENCE" unitType="ELEMENT" uiShowName="Global ID TLV">
      <FIELD name="type" type="OCTETSTRING" byteLength="1" defaultValue="02" uiShowName="TLV Type"  />
      <FIELD name="length" type="OCTETSTRING" byteLength="1" defaultValue="04" uiShowName="Length"  />
      <FIELD name="globalId" type="INTEGER" bitLength="32" defaultValue="1" uiShowName="Global ID" />
    </TYPE_DEF>

    <TYPE_DEF name="FaultMgmtMsg" type="SEQUENCE" unitType="HEADER" uiShowName="MPLS Fault Management Message">
	  <FIELD name="faultMgmtMsgHeader" type="FaultMgmtMsgHeaderType" uiShowName="Fault Management Message Header"/>
	  <FIELD name="tlvs" type="FaultOAMTlvList" uiShowName="TLVs"/>
    </TYPE_DEF>
	
	<TYPE_DEF name="FaultMgmtMsgHeaderType" type="SEQUENCE" unitType="ELEMENT" uiShowName="MPLS Fault Management Message">
      <FIELD name="version" type="BITSTRING" bitLength="4" defaultValue="0001" uiShowName="Version" />
      <FIELD name="reserved" type="BITSTRING" bitLength="4" defaultValue="0000" uiShowName="Reserved" />
      <FIELD name="faultMsgType" type="FaultMsgType" defaultValue="01" uiShowName="Message Type" />
      <FIELD name="flags" type="BITSTRING" bitLength="6" defaultValue="000000" uiShowName="Flags Reserved" />
      <FIELD name="L-flag" type="BITSTRING" bitLength="1" defaultValue="0" uiShowName="Link Down Indication Flag" />
      <FIELD name="R-flag" type="BITSTRING" bitLength="1" defaultValue="0" uiShowName="R-flag" />
      <FIELD name="refreshTimer" type="INTEGER" bitLength="8" defaultValue="20" uiShowName="Refresh Timer in seconds" />
      <FIELD name="tlvLength" type="OCTETSTRING" byteLength="1" procfnTarget="FAULTOAMTLVLENGTH" defaultValue="10" uiShowName="Total TLV Length" uiNoShowModifier="Filter" uiControlState="ALLOW_OVERRIDE" />
    </TYPE_DEF>
	
    <TYPE_DEF name="FaultMsgType" type="OCTETSTRING" byteLength="1" unitType="ELEMENT" uiShowName="Message Type" >
      <VALUE_ENUMERATION>
		<VAL_ENUM uiShowName="0-Reserved" value="00" />
		<VAL_ENUM uiShowName="1-Alarm Indication Signal (AIS)" value="01" />
		<VAL_ENUM uiShowName="2-Lock Report (LKR)" value="02" />
      </VALUE_ENUMERATION>
    </TYPE_DEF>
	
  </TYPE_DEFS>
  
</PDU_LIBRARY>
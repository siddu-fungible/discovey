<?xml version="1.0" encoding="UTF-8"?>
<PDU_LIBRARY xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="pdu_schema.xsd"
    name="vdp"
    showName="VDP TLV"
    version="1.00"
    description="This is a sample PDU library for VDP as defined in XML Stream Editor.">

    <TYPE_DEFS>
        <!-- VSI Discovery and Configuration Protocol (VDP) Manager ID TLV ============== -->
        <TYPE_DEF name="VdpManagerIdTlv" type="SEQUENCE" unitType="HEADER" uiShowName="VDP Manager ID TLV">
            <FIELD name="type" type="INTEGER" bitLength="7" defaultValue="5" uiNoShow="Frame" uiShowCommon="false" uiShowName="Type" uiControlState="CALCULATED" />
            <FIELD name="length" type="INTEGER" bitLength="9" procfnTarget="GEN1T1LTLVLENGTH" defaultValue="0" uiShowName="Length" uiControlState="CALCULATED" />
            <FIELD name="mgrId" type="IPV6ADDR" defaultValue="::" uiShowName="Manager ID" />
            <NEXT_HEADERS>
                <NXT_HDR id="vdp:VdpAssociationTlv" name="VDP Association TLV" />
            </NEXT_HEADERS>
        </TYPE_DEF>
        
        <!-- VSI Discovery and Configuration Protocol (VDP) Association TLV ============== -->
        <TYPE_DEF name="VdpAssociationTlv" type="SEQUENCE" unitType="HEADER" uiShowName="VDP Association TLV">
            <FIELD name="type" type="AssociationType" defaultValue="3" uiShowName="Type"/>
            <FIELD name="length" type="INTEGER" bitLength="9" procfnTarget="GEN1T1LTLVLENGTH" defaultValue="0" uiShowName="Length" uiControlState="CALCULATED" />
            <FIELD name="flags" type="Flags" uiShowName="Reason (Boolean Flags)" />
            <FIELD name="errorType" type="ErrorTypes" defaultValue="0" uiShowName="Reason (Error Type)" uiControlState="ALLOW_OVERRIDE" />
            <FIELD name="vsiTypeId" type="INTEGER" bitLength="24" defaultValue="1" uiShowName="VSI Type ID" />
            <FIELD name="vsiTypeVersion" type="INTEGER" bitLength="8" defaultValue="1" uiShowName="VSI Type Version" />
            <FIELD name="vsiIdFormat" type="VsiIdFormat" defaultValue="4" uiShowName="VSI ID Format" />
            <FIELD name="vsiId" type="OCTETSTRING" byteLength="16" defaultValue="00000000000000000000000000000001" uiShowName="VSI ID" />
            <FIELD name="filterFormat" type="FilterInfoFormat" defaultValue="1" uiShowName="Filter Info Format" />
            <FIELD name="filterCount" type="INTEGER" bitLength="16" defaultValue="1" procfnTarget="VDPFILTERINFOCOUNT" uiShowName="Number of entries" uiControlState="ALLOW_OVERRIDE"/>
            <FIELD name="filterInfoList" type="FilterInfoList" uiShowName="Filter Info List"/>
            <NEXT_HEADERS>
                <NXT_HDR id="vdp:VdpAssociationTlv" name="VDP Association TLV" />
            </NEXT_HEADERS>
        </TYPE_DEF>
        
        <TYPE_DEF name="AssociationType" type="INTEGER" bitLength="7" unitType="ELEMENT">
            <VALUE_ENUMERATION>
                <VAL_ENUM uiShowName="Pre-Associate" value="1" />
                <VAL_ENUM uiShowName="Pre-Associate with resource reservation" value="2" />
                <VAL_ENUM uiShowName="Associate" value="3" />
                <VAL_ENUM uiShowName="De-Associate" value="4" />
            </VALUE_ENUMERATION>
        </TYPE_DEF>
        
        <TYPE_DEF name="ErrorTypes" type="INTEGER" bitLength="4" unitType="ELEMENT">
            <VALUE_ENUMERATION>
                <VAL_ENUM uiShowName="Success" value="0" />
                <VAL_ENUM uiShowName="Invalid Format" value="1" />
                <VAL_ENUM uiShowName="Insufficient Resources" value="2" />
                <VAL_ENUM uiShowName="Unable to Contact VSI Manager" value="3" />
                <VAL_ENUM uiShowName="Other Failure" value="4" />
                <VAL_ENUM uiShowName="Invalid VID, GroupID, or MAC Address" value="5" />
                <VAL_ENUM uiShowName="Reserved" value="6" />
            </VALUE_ENUMERATION>
        </TYPE_DEF>
        
        <TYPE_DEF name="Flags" type="SEQUENCE" minOccurs="1" maxOccurs="1" unitType="ELEMENT">
            <FIELD name="res" type="BITSTRING" bitLength="1" defaultValue="0" uiShowName="Reserved"/>
            <FIELD name="reqAck" type="BITSTRING" bitLength="1" defaultValue="0" uiShowName="Req/Ack"/>
            <FIELD name="sbitKeep" type="BITSTRING" bitLength="1" defaultValue="0" uiShowName="S-Bit/Keep"/>
            <FIELD name="mbitHardError" type="BITSTRING" bitLength="1" defaultValue="0" uiShowName="M-Bit/Hard Error"/>
        </TYPE_DEF>
        
        <TYPE_DEF name="VsiIdFormat" type="INTEGER" bitLength="8" unitType="ELEMENT">
            <VALUE_ENUMERATION>
                <VAL_ENUM uiShowName="IPv4" value="1" />
                <VAL_ENUM uiShowName="IPv6" value="2" />
                <VAL_ENUM uiShowName="MAC" value="3" />
                <VAL_ENUM uiShowName="Local" value="4" />
                <VAL_ENUM uiShowName="UUID" value="5" />
            </VALUE_ENUMERATION>
        </TYPE_DEF>
        
        <TYPE_DEF name="FilterInfoFormat" type="INTEGER" bitLength="8" unitType="ELEMENT">
            <VALUE_ENUMERATION>
                <VAL_ENUM uiShowName="VLAN" value="1" />
                <VAL_ENUM uiShowName="MAC/VID" value="2" />
                <VAL_ENUM uiShowName="GroupID/VID" value="3" />
                <VAL_ENUM uiShowName="GroupID/MAC/VID" value="4" />
            </VALUE_ENUMERATION>
        </TYPE_DEF>
        
        <TYPE_DEF name="FilterInfoList" type="SEQUENCE_OF" minOccurs="1" maxOccurs="100" elementType="FilterInfoChoice" unitType="ELEMENT"/>
        
        <TYPE_DEF name="FilterInfoChoice" type="CHOICE" unitType="ELEMENT" uiShowName="Filter Info">
            <FIELD name="vidFilterInfo" type="VidFilterInfo" uiShowName="VID Filter Info" />
            <FIELD name="macVidFilterInfo" type="MacVidFilterInfo" uiShowName="MAC/VID Filter Info" />
            <FIELD name="grpVidFilterInfo" type="GroupVidFilterInfo" uiShowName="GroupID/VID Filter Info" />
            <FIELD name="grpMacVidFilterInfo" type="GroupMacVidFilterInfo" uiShowName="GroupID/MAC/VID Filter Info" />
        </TYPE_DEF>
        
        <TYPE_DEF name="VidFilterInfo" type="SEQUENCE" minOccurs="0" maxOccurs="100" unitType="ELEMENT" uiShowName="VID Filter Info">
            <FIELD name="ps" type="BITSTRING" bitLength="1" defaultValue="0" uiShowName="PS"/>
            <FIELD name="pcp" type="BITSTRING" bitLength="3" defaultValue="0" uiShowName="PCP"/>
            <FIELD name="vid" type="INTEGER" bitLength="12" defaultValue="0" uiShowName="VID"/>
        </TYPE_DEF>
        
        <TYPE_DEF name="MacVidFilterInfo" type="SEQUENCE" minOccurs="0" maxOccurs="100" unitType="ELEMENT" uiShowName="MAC/VID Filter Info">
            <FIELD name="mac" type="MACADDR" defaultValue="00:00:00:00:00:00" uiShowName="MAC Address"/>
            <FIELD name="ps" type="BITSTRING" bitLength="1" defaultValue="0" uiShowName="PS"/>
            <FIELD name="pcp" type="BITSTRING" bitLength="3" defaultValue="0" uiShowName="PCP"/>
            <FIELD name="vid" type="INTEGER" bitLength="12" defaultValue="0" uiShowName="VID"/>
        </TYPE_DEF>
        
        <TYPE_DEF name="GroupVidFilterInfo" type="SEQUENCE" minOccurs="0" maxOccurs="100" unitType="ELEMENT" uiShowName="GroupID/VID Filter Info">
            <FIELD name="groupId" type="INTEGER" bitLength="32" defaultValue="0" uiShowName="Group ID"/>
            <FIELD name="ps" type="BITSTRING" bitLength="1" defaultValue="0" uiShowName="PS"/>
            <FIELD name="pcp" type="BITSTRING" bitLength="3" defaultValue="0" uiShowName="PCP"/>
            <FIELD name="vid" type="INTEGER" bitLength="12" defaultValue="0" uiShowName="VID"/>
        </TYPE_DEF>
        
        <TYPE_DEF name="GroupMacVidFilterInfo" type="SEQUENCE" minOccurs="0" maxOccurs="100" unitType="ELEMENT" uiShowName="GroupID/MAC/VID Filter Info">
            <FIELD name="groupId" type="INTEGER" bitLength="32" defaultValue="0" uiShowName="Group ID"/>
            <FIELD name="mac" type="MACADDR" defaultValue="00:00:00:00:00:00" uiShowName="MAC Address"/>
            <FIELD name="ps" type="BITSTRING" bitLength="1" defaultValue="0" uiShowName="PS"/>
            <FIELD name="pcp" type="BITSTRING" bitLength="3" defaultValue="0" uiShowName="PCP"/>
            <FIELD name="vid" type="INTEGER" bitLength="12" defaultValue="0" uiShowName="VID"/>
        </TYPE_DEF>
    </TYPE_DEFS>
</PDU_LIBRARY>

<?xml version="1.0" encoding="UTF-8"?>
<PDU_LIBRARY xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:noNamespaceSchemaLocation="pdu_schema.xsd"
  name="MAC-in-MAC"
  showName="MAC-in-MAC"
  version="2.00"
  description="This is a sample PDU library for MAC-in-MAC as defined in XML Stream Editor.">

  <TYPE_DEFS>
    
	<TYPE_DEF name="bTag" type="SEQUENCE" unitType="ELEMENT" uiShowName="B Tag">

    <FIELD name="Type" type="OCTETSTRING" byteLength="2"
      defaultValue="88a8"
      uiNoShow="Filter"
      uiNoShowModifier="Interface,Filter"
      uiShowName="Backbone Vlan Type"
      isNiMapped="true"/>

		<FIELD name="PCP" type="BITSTRING" 
			bitLength="3" defaultValue="001" 
      isNiMapped="true"
			uiShowName="Backbone VLAN PCP"/>

		<FIELD name="DEI" type="BITSTRING" 
			bitLength="1" defaultValue="0"
      isNiMapped="true"
			uiShowName="Backbone DEI"/>

		<FIELD name="VID" type="INTEGER" 
			bitLength="12" defaultValue="100"
      isNiMapped="true"
			uiShowName="Backbone VID"/>
	</TYPE_DEF>


  <TYPE_DEF name="bTagList" type="SEQUENCE_OF" minOccurs="0" maxOccurs="1" elementType="bTag" unitType="ELEMENT" niMapped="true"/>
    
	<TYPE_DEF name="iTag" type="SEQUENCE" unitType="HEADER" uiShowName="I TAG" niMapped="true">

		<FIELD name="iPCP" type="BITSTRING" 
                        bitLength="3" defaultValue="000" 
                        uiShowName="PCP" isNiMapped="true"/>

		<FIELD name="iDEI" type="BITSTRING" 
      bitLength="1" defaultValue="0" 
      uiShowName="Drop Eligible" isNiMapped="true"/>

		<FIELD name="UCA" type="BITSTRING" 
      bitLength="1" defaultValue="1" 
      uiShowName="Use Customer Addresses" isNiMapped="true"/>

    <FIELD name="res1" type="BITSTRING" 
      bitLength="1" defaultValue="0" 
      uiShowName="res1" isNiMapped="true"/>

    <FIELD name="res2" type="BITSTRING" 
      bitLength="2" defaultValue="00" 
      uiShowName="res2" isNiMapped="true"/>

		<FIELD name="ISID" type="INTEGER" bitLength="24" 
      defaultValue="0" 
      uiShowName="Service ID"
      isNiMapped="true"
      isNiPrimaryKey="true"/>

    <FIELD name="cDstMac" type="MACADDR"
      defaultValue="00:00:01:00:00:01"
      uiNoShow="Interface" 
      uiShowName="Encapsulated Customer Destination MAC" />

    <FIELD name="cSrcMac" type="MACADDR"
      defaultValue="00:10:94:00:00:02"
      uiNoShow="Interface" 
      uiShowName="Encapsulated Customer Source MAC" />
        
    <FIELD name="BackboneSrcMac" type="MACADDR"
      defaultValue="00:00:01:00:00:02"
	    doNotBuild="true"
	    uiNoShow="Filter,Frame"
	    uiShowName="Backbone Src MAC" />
		
	<FIELD name="BackboneDstMac" type="MACADDR"
      defaultValue="00:00:01:00:00:01"
	    doNotBuild="true"
	    uiNoShow="Filter,Frame"
	    uiShowName="Backbone Dest MAC" />
    
    <NEXT_HEADERS>
      <NXT_HDR id="mimethernet:EncapEthernetII" name="Encapsulated Customer Ethernet II" />
      <NXT_HDR id="mimethernet:EncapEthernet8023Raw" name="Encapsulated Customer Ethernet 802.3 Raw"/>
      <NXT_HDR id="mimethernet:EncapEthernet8022" name="Encapsulated Customer Ethernet 802.2"/>
      <NXT_HDR id="mimethernet:EncapEthernetSnap" name="Encapsulated Customer Ethernet Snap"/>
      <NXT_HDR id="MAC-in-MAC:EncapMAC-in-MAC" name="Encapsulated Backbone Ethernet"/>
    </NEXT_HEADERS>
  </TYPE_DEF>

  <TYPE_DEF name="MAC-in-MAC" type="SEQUENCE" unitType="HEADER" level="2" portType="Ethernet" uiShowName="MAC-in-MAC" niMapped="true">

    <FIELD name="preamble" type="OCTETSTRING"
      minByteLength="4" maxByteLength="32"
      defaultValue="55555555555555d5"
	    uiNoShow="Interface,Filter"
		  uiNoShowModifier="Interface"
      uiShowCommon="false"  
	    uiOverrideEditor="PreambleEditor"
      uiShowName="Preamble" />

    <FIELD name="bDstMac" type="MACADDR"
			defaultValue="00:00:01:00:00:01"
			uiNoShowModifier="Interface"
			uiNoShow="Interface"
			uiShowName="Backbone Destination MAC" 
			isNiMapped="true" />				

		<FIELD name="bSrcMac" type="MACADDR"
		  defaultValue="00:10:94:00:00:02"
			uiShowName="Backbone Source MAC" 
			isNiMapped="true"
			isNiPrimaryKey="true" />

		<FIELD name="bVlanTag" type="bTagList" uiNoShowModifier="Interface" uiShowName="Backbone VLAN Tag"/>

    <FIELD name="etherType" type="types:EtherTypes"
      defaultValue="88B5"
      uiControlState="ALLOW_OVERRIDE"   
      procfnTarget="NEXTHDR" 
      uiNoShow="Interface"
      uiNoShowModifier="Interface"
      uiShowName="EtherType" />

		<!-- the next_headers are all the possibly customer frames that are able to be encapsulated within
		mac-in-mac -->

    <NEXT_HEADERS>
      <NXT_HDR id="MAC-in-MAC:iTag" name="iTag" value="88e7" />
      <NXT_HDR id="mpls:Mpls" name="MPLS Header" value="8847" />
      <NXT_HDR id="lacp:LACP" name="LACP PDU" value="8809" />
      <NXT_HDR id="lacp:Marker" name="Marker PDU" value="8809" />
      <NXT_HDR id="serviceoam:CCM" name="Ethernet OAM CCM" value="8902"/>
      <NXT_HDR id="serviceoam:LBM" name="Ethernet OAM LBM" value="8902"/>
      <NXT_HDR id="serviceoam:LBR" name="Ethernet OAM LBR" value="8902"/>
      <NXT_HDR id="serviceoam:LTM" name="Ethernet OAM LTM" value="8902"/>
      <NXT_HDR id="serviceoam:LTR" name="Ethernet OAM LTR" value="8902"/>
      <NXT_HDR id="serviceoam:LMM" name="Ethernet OAM LMM" value="8902"/>
      <NXT_HDR id="serviceoam:LMR" name="Ethernet OAM LMR" value="8902"/>
      <NXT_HDR id="serviceoam:DMM" name="Ethernet OAM DMM" value="8902"/>
      <NXT_HDR id="serviceoam:DMR" name="Ethernet OAM DMR" value="8902"/>
      <NXT_HDR id="serviceoam:CSF" name="Ethernet OAM CSF" value="8902" />
      <NXT_HDR id="serviceoam:R-APS" name="Ethernet OAM R-APS" value="8902" />
    </NEXT_HEADERS>

  </TYPE_DEF>

  <TYPE_DEF name="EncapMAC-in-MAC" type="SEQUENCE" unitType="HEADER" uiShowName="Encapsulated Backbone Ethernet" niMapped="true">

      <FIELD name="bVlanTag" type="bTagList" uiNoShowModifier="Interface" uiShowName="Backbone VLAN Tag"/>

      <FIELD name="etherType" type="types:EtherTypes"
        defaultValue="88B5"
        uiControlState="ALLOW_OVERRIDE"
        procfnTarget="NEXTHDR"
        uiNoShow="Interface"
        uiNoShowModifier="Interface"
        uiShowName="EtherType" />

      <!-- the next_headers are all the possibly customer frames that are able to be encapsulated within
	mac-in-mac -->

      <NEXT_HEADERS>
          <NXT_HDR id="MAC-in-MAC:iTag" name="iTag" value="88e7" />
          <NXT_HDR id="mpls:Mpls" name="MPLS Header" value="8847" />
          <NXT_HDR id="lacp:LACP" name="LACP PDU" value="8809" />
          <NXT_HDR id="lacp:Marker" name="Marker PDU" value="8809" />
          <NXT_HDR id="serviceoam:CCM" name="Ethernet OAM CCM" value="8902"/>
          <NXT_HDR id="serviceoam:LBM" name="Ethernet OAM LBM" value="8902"/>
          <NXT_HDR id="serviceoam:LBR" name="Ethernet OAM LBR" value="8902"/>
          <NXT_HDR id="serviceoam:LTM" name="Ethernet OAM LTM" value="8902"/>
          <NXT_HDR id="serviceoam:LTR" name="Ethernet OAM LTR" value="8902"/>
          <NXT_HDR id="serviceoam:LMM" name="Ethernet OAM LMM" value="8902"/>
          <NXT_HDR id="serviceoam:LMR" name="Ethernet OAM LMR" value="8902"/>
          <NXT_HDR id="serviceoam:DMM" name="Ethernet OAM DMM" value="8902"/>
          <NXT_HDR id="serviceoam:DMR" name="Ethernet OAM DMR" value="8902"/>
          <NXT_HDR id="serviceoam:CSF" name="Ethernet OAM CSF" value="8902" />
          <NXT_HDR id="serviceoam:R-APS" name="Ethernet OAM R-APS" value="8902" />
      </NEXT_HEADERS>

  </TYPE_DEF>
      
</TYPE_DEFS>
</PDU_LIBRARY>




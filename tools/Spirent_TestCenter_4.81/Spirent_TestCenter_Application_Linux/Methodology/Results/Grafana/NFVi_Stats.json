{
  "id": 1,
  "title": "NFVi Stats",
  "originalTitle": "NFVi Stats",
  "tags": [],
  "style": "dark",
  "timezone": "browser",
  "editable": true,
  "hideControls": false,
  "sharedCrosshair": false,
  "rows": [
    {
      "collapse": false,
      "editable": true,
      "height": "250px",
      "panels": [
        {
          "content": "<!DOCTYPE html>\n<html>\n<body>\n<p id=\"HypervisorStatsId\">hypervisor stats</p>\n\n<script>\nfunction create_url_args(var_name, value_str) {\n   var value_list = value_str.replace(/[\\{\\}]/g, '').split(',')\n   var url_args = ''\n   for(var value_list_len=value_list.length, i=0; i<value_list_len; i++)\n      url_args += '&' + var_name + '=' + value_list[i]\n\t  return url_args\n}\n\nfunction myFunction() {\n    var statMap = {\n       'CPU Utilization': {\n          'panels': ['nfvi-node-stats?panelId=1']\n       },\n       'Intel PCM Cache Hits': {\n          'panels': ['nfvi-cache-stats?panelId=1']\n       },\n       'Intel PCM Cache Misses': {\n          'panels': ['nfvi-cache-stats?panelId=2']\n       },\n       'System Information': {\n          'panels': ['nfvi-node-stats?panelId=2']\n       },\n       'OVS PMD Processing Cycles': {\n          'panels': ['openvswitch-stats?panelId=1']\n       },\n       'OVS PMD Polling Cycles': {\n          'panels': ['openvswitch-stats?panelId=2']\n       },\n       'OVS PMD Average Cycles Per Packet': {\n          'panels': ['openvswitch-stats?panelId=3']\n       },\n       'OVS PMD Packet Statistics': {\n          'panels': ['openvswitch-stats?panelId=4']\n       },\n       'OVS DPDK Interface Rate': {\n          'panels': ['openvswitch-stats?panelId=5']\n       },\n       'OVS DPDK Interface TX Drop Rate': {\n          'panels': ['openvswitch-stats?panelId=6']\n       },\n       'OVS DPDK Interface RX Drop Rate': {\n          'panels': ['openvswitch-stats?panelId=7']\n       },\n       'OVS DPDK Interface Packets': {\n          'panels': ['openvswitch-stats?panelId=8']\n       },\n       'OVS Interface Rate': {\n          'panels': ['openvswitch-stats?panelId=9']\n       },\n       'OVS Interface TX Drop Rate': {\n          'panels': ['openvswitch-stats?panelId=10']\n       },\n       'OVS Interface RX Drop Rate': {\n          'panels': ['openvswitch-stats?panelId=11']\n       },\n       'OVS Patch Interface Rate': {\n          'panels': ['openvswitch-stats?panelId=12']\n       },\n       'OVS Patch Interface TX Drop Rate': {\n          'panels': ['openvswitch-stats?panelId=13']\n       },\n       'OVS Patch Interface RX Drop Rate': {\n          'panels': ['openvswitch-stats?panelId=14']\n       }\n   }\n   var stat_view = \"$HypervisorStat\"\n   var urlSessionId = create_url_args('var-SessionId', \"$SessionId\")\n   var dataSource =   create_url_args('var-DataSource', \"$DataSource\")\n   var timeRange = angular.element('grafana-app').injector().get('timeSrv').timeRangeForUrl()\n\n   var view_data = statMap[stat_view]\n   if (view_data) {\n\t  var panels = view_data['panels']\n          var html_data = \"\"\n          var width = 100.0/panels.length\n          var theme = \"dark\"\n          for (var num_sheets=document.styleSheets.length, i=0; i<num_sheets; i++) {\n               var href = document.styleSheets[i].href\n              if (href && href.indexOf(\"light\") > -1)\n                   theme=\"light\"\n          }\n          for(var panel_ids_len=panels.length, i=0; i<panel_ids_len; i++) {\n               var frame = '<iframe width=\"'+width+'%\" height=\"285\" style=\"display:inline\" src=\"/grafana/dashboard-solo/db/'+ panels[i] +\n                                     '&from=' + timeRange['from'] + '&to=' + timeRange['to'] +\n                                     dataSource + urlSessionId + '&theme=' + theme + '\" frameborder=\"0\"></iframe>'\n               html_data += frame\n           }\n          document.getElementById(\"HypervisorStatsId\").innerHTML=html_data\n    }\n}\nmyFunction()\n</script>\n</body>\n</html>\n",
          "editable": true,
          "error": false,
          "id": 1,
          "isNew": true,
          "links": [],
          "mode": "html",
          "span": 12,
          "title": "",
          "type": "text"
        }
      ],
      "title": "New row"
    },
    {
      "collapse": false,
      "editable": true,
      "height": "250px",
      "panels": [
        {
          "content": "<!DOCTYPE html>\n<html>\n<body>\n<p id=\"LibvirtStatsId\">libvirt stats</p>\n\n<script>\nfunction create_url_args(var_name, value_str) {\n   var value_list = value_str.replace(/[\\{\\}]/g, '').split(',')\n   var url_args = ''\n   for(var value_list_len=value_list.length, i=0; i<value_list_len; i++)\n      url_args += '&' + var_name + '=' + value_list[i]\n\t  return url_args\n}\n\nfunction myFunction() {\n    var statMap = {\n       'CPU Utilization': {\n          'panels': ['nfvi-libvirt-stats?panelId=1']\n       },\n      'Memory': {\n         'panels': ['nfvi-libvirt-stats?panelId=2']\n       },\n      'Interface Traffic Rate': {\n         'panels': ['nfvi-libvirt-stats?panelId=3']\n       },\n      'Interface RX Drop Rate': {\n         'panels': ['nfvi-libvirt-stats?panelId=5']\n       },\n      'Interface TX Drop Rate': {\n         'panels': ['nfvi-libvirt-stats?panelId=4']\n       },\n      'Disk I/O Rate': {\n         'panels': ['nfvi-libvirt-stats?panelId=6']\n       },\n      'Memory Major Page Fault Rate': {\n         'panels': ['nfvi-libvirt-stats?panelId=7']\n       },\n      'Memory Minor Page Fault Rate': {\n         'panels': ['nfvi-libvirt-stats?panelId=8']\n       }\n   }\n   var stat_view = \"$LibvirtStat\"\n   var urlSessionId = create_url_args('var-SessionId', \"$SessionId\")\n   var instanceName = create_url_args('var-InstanceName', \"$InstanceName\")\n   var libvirtUuid = create_url_args('var-LibvirtUuuid', \"$LibvirtUuid\")\n   var libvirtUuidRegEx = create_url_args('var-LibvirtUuidRegEx', \"$LibvirtUuidRegEx\")\n   var dataSource =   create_url_args('var-DataSource', \"$DataSource\")\n   var timeRange = angular.element('grafana-app').injector().get('timeSrv').timeRangeForUrl()\n\n   var view_data = statMap[stat_view]\n   if (view_data) {\n\t  var panels = view_data['panels']\n          var html_data = \"\"\n          var width = 100.0/panels.length\n          var theme = \"dark\"\n          for (var num_sheets=document.styleSheets.length, i=0; i<num_sheets; i++) {\n               var href = document.styleSheets[i].href\n              if (href && href.indexOf(\"light\") > -1)\n                   theme=\"light\"\n          }\n          for(var panel_ids_len=panels.length, i=0; i<panel_ids_len; i++) {\n               var frame = '<iframe width=\"'+width+'%\" height=\"285\" style=\"display:inline\" src=\"/grafana/dashboard-solo/db/'+ panels[i] +\n                                     '&from=' + timeRange['from'] + '&to=' + timeRange['to'] +\n                                     dataSource + urlSessionId + libvirtUuid + libvirtUuidRegEx + instanceName +\n                                     '&theme=' + theme + '\" frameborder=\"0\"></iframe>'\n               html_data += frame\n           }\n          document.getElementById(\"LibvirtStatsId\").innerHTML=html_data\n    }\n}\nmyFunction()\n</script>\n</body>\n</html>",
          "editable": true,
          "error": false,
          "id": 2,
          "isNew": true,
          "links": [],
          "mode": "html",
          "span": 12,
          "title": "",
          "type": "text"
        }
      ],
      "title": "New row"
    }
  ],
  "time": {
    "from": "now-15m",
    "to": "now"
  },
  "timepicker": {
    "refresh_intervals": [
      "5s",
      "10s",
      "30s",
      "1m",
      "5m",
      "15m",
      "30m",
      "1h",
      "2h",
      "1d"
    ],
    "time_options": [
      "5m",
      "15m",
      "1h",
      "6h",
      "12h",
      "24h",
      "2d",
      "7d",
      "30d"
    ]
  },
  "templating": {
    "list": [
      {
        "current": {
          "text": "metrics",
          "value": "metrics"
        },
        "datasource": null,
        "hide": 0,
        "includeAll": false,
        "multi": false,
        "name": "DataSource",
        "options": [
          {
            "selected": true,
            "text": "metrics",
            "value": "metrics"
          }
        ],
        "query": "influxdb",
        "refresh": 1,
        "regex": "",
        "type": "datasource"
      },
      {
        "current": {
          "tags": [],
          "text": ".*",
          "value": ".*"
        },
        "datasource": null,
        "hide": 0,
        "includeAll": false,
        "multi": false,
        "name": "LibvirtUuidRegEx",
        "options": [
          {
            "selected": true,
            "text": ".*",
            "value": ".*"
          }
        ],
        "query": ".*",
        "refresh": 0,
        "regex": "",
        "type": "custom"
      },
      {
        "allFormat": "glob",
        "allValue": "",
        "current": {
          "value": [
            "$__all"
          ],
          "text": "$__all"
        },
        "datasource": "$DataSource",
        "hide": 0,
        "includeAll": true,
        "label": "LibvirtUuid",
        "multi": true,
        "name": "LibvirtUuid",
        "options": [
          {
            "text": "All",
            "value": "$__all",
            "selected": true
          }
        ],
        "query": "show tag values with key = \"libvirt_uuid\"",
        "refresh": 1,
        "regex": "$LibvirtUuidRegEx",
        "tagValuesQuery": "",
        "tagsQuery": "show tag values with key = \"libvirt_uuid\"",
        "type": "query",
        "useTags": false
      },
      {
        "allFormat": "glob",
        "allValue": "",
        "current": {
          "value": [
            "$__all"
          ],
          "text": "$__all"
        },
        "datasource": "$DataSource",
        "hide": 0,
        "includeAll": true,
        "label": "Instance Name",
        "multi": true,
        "name": "InstanceName",
        "options": [
          {
            "text": "All",
            "value": "$__all",
            "selected": true
          }
        ],
        "query": "show tag values with key = \"instance_name\"",
        "refresh": 1,
        "regex": ".*",
        "type": "query"
      },
      {
        "allFormat": "glob",
        "current": {
          "text": "All",
          "value": "$__all"
        },
        "datasource": "$DataSource",
        "hide": 0,
        "includeAll": true,
        "label": "SessionId",
        "multi": false,
        "name": "SessionId",
        "options": [
          {
            "text": "All",
            "value": "$__all",
            "selected": true
          }
        ],
        "query": "show tag values with key=\"stc_session_token\"",
        "refresh": 1,
        "regex": "",
        "type": "query"
      },
      {
        "current": {
          "tags": [],
          "text": "CPU Utilization",
          "value": "CPU Utilization"
        },
        "datasource": null,
        "hide": 0,
        "includeAll": false,
        "label": "",
        "multi": false,
        "name": "HypervisorStat",
        "options": [
          {
            "selected": true,
            "text": "CPU Utilization",
            "value": "CPU Utilization"
          },
          {
            "selected": false,
            "text": "Intel PCM Cache Hits",
            "value": "Intel PCM Cache Hits"
          },
          {
            "selected": false,
            "text": "Intel PCM Cache Misses",
            "value": "Intel PCM Cache Misses"
          },
          {
            "text": "System Information",
            "value": "System Information",
            "selected": false
          },
          {
            "text": "OVS PMD Processing Cycles",
            "value": "OVS PMD Processing Cycles",
            "selected": false
          },
          {
            "text": "OVS PMD Polling Cycles",
            "value": "OVS PMD Polling Cycles",
            "selected": false
          },
          {
            "text": "OVS PMD Average Cycles Per Packet",
            "value": "OVS PMD Average Cycles Per Packet",
            "selected": false
          },
          {
            "text": "OVS PMD Packet Statistics",
            "value": "OVS PMD Packet Statistics",
            "selected": false
          },
          {
            "text": "OVS DPDK Interface Rate",
            "value": "OVS DPDK Interface Rate",
            "selected": false
          },
          {
            "text": "OVS DPDK Interface TX Drop Rate",
            "value": "OVS DPDK Interface TX Drop Rate",
            "selected": false
          },
          {
            "text": "OVS DPDK Interface RX Drop Rate",
            "value": "OVS DPDK Interface RX Drop Rate",
            "selected": false
          },
          {
            "text": "OVS DPDK Interface Packets",
            "value": "OVS DPDK Interface Packets",
            "selected": false
          },
          {
            "text": "OVS Interface Rate",
            "value": "OVS Interface Rate",
            "selected": false
          },
          {
            "text": "OVS Interface TX Drop Rate",
            "value": "OVS Interface TX Drop Rate",
            "selected": false
          },
          {
            "text": "OVS Interface RX Drop Rate",
            "value": "OVS Interface RX Drop Rate",
            "selected": false
          },
          {
            "text": "OVS Patch Interface Rate",
            "value": "OVS Patch Interface Rate",
            "selected": false
          },
          {
            "text": "OVS Patch Interface TX Drop Rate",
            "value": "OVS Patch Interface TX Drop Rate",
            "selected": false
          },
          {
            "text": "OVS Patch Interface RX Drop Rate",
            "value": "OVS Patch Interface RX Drop Rate",
            "selected": false
          }
        ],
        "query": "CPU Utilization, Intel PCM Cache Hits, Intel PCM Cache Misses, System Information, OVS PMD Processing Cycles, OVS PMD Polling Cycles, OVS PMD Average Cycles Per Packet, OVS PMD Packet Statistics, OVS DPDK Interface Rate, OVS DPDK Interface TX Drop Rate, OVS DPDK Interface RX Drop Rate, OVS DPDK Interface Packets, OVS Interface Rate, OVS Interface TX Drop Rate, OVS Interface RX Drop Rate, OVS Patch Interface Rate, OVS Patch Interface TX Drop Rate, OVS Patch Interface RX Drop Rate",
        "refresh": 0,
        "type": "custom"
      },
      {
        "current": {
          "text": "Interface Traffic Rate",
          "value": "Interface Traffic Rate",
          "tags": []
        },
        "datasource": null,
        "hide": 0,
        "includeAll": false,
        "label": "",
        "multi": false,
        "name": "LibvirtStat",
        "options": [
          {
            "text": "CPU Utilization",
            "value": "CPU Utilization",
            "selected": false
          },
          {
            "text": "Memory",
            "value": "Memory",
            "selected": false
          },
          {
            "text": "Interface Traffic Rate",
            "value": "Interface Traffic Rate",
            "selected": true
          },
          {
            "text": "Interface RX Drop Rate",
            "value": "Interface RX Drop Rate",
            "selected": false
          },
          {
            "text": "Interface TX Drop Rate",
            "value": "Interface TX Drop Rate",
            "selected": false
          },
          {
            "text": "Disk I/O Rate",
            "value": "Disk I/O Rate",
            "selected": false
          },
          {
            "text": "Memory Major Page Fault Rate",
            "value": "Memory Major Page Fault Rate",
            "selected": false
          },
          {
            "text": "Memory Minor Page Fault Rate",
            "value": "Memory Minor Page Fault Rate",
            "selected": false
          }
        ],
        "query": "CPU Utilization, Memory, Interface Traffic Rate,  Interface RX Drop Rate, Interface TX Drop Rate, Disk I/O Rate, Memory Major Page Fault Rate, Memory Minor Page Fault Rate",
        "refresh": 0,
        "type": "custom"
      }
    ]
  },
  "annotations": {
    "list": []
  },
  "refresh": "10s",
  "schemaVersion": 12,
  "version": 7,
  "links": []
}

{
    "methodology_key": "CS_TVLP_CAPACITY",
    "state_modifiers": [
        {
            "property": "AcceptableCpuLoadVariance",
            "state_type": "disabled",
            "type": "expression",
            "value": "%EnableCpuTestCriteria% == false",
            "message": "Disabled when the CPU Test Criteria is disabled."
        },
        {
            "property": "CpuLoadVarianceSuccessThreshold",
            "state_type": "disabled",
            "type": "expression",
            "value": "%EnableCpuTestCriteria% == false",
            "message": "Disabled when the CPU Test Criteria is disabled."
        },


        {
            "property": "AcceptableMemoryReadVariance",
            "state_type": "disabled",
            "type": "expression",
            "value": "%EnableMemoryTestCriteria% == false",
            "message": "Disabled when the Memory Test Criteria is disabled."
        },
        {
            "property": "AcceptableMemoryReadLatency",
            "state_type": "disabled",
            "type": "expression",
            "value": "%EnableMemoryTestCriteria% == false",
            "message": "Disabled when the Memory Test Criteria is disabled."
        },
        {
            "property": "AcceptableMemoryWriteVariance",
            "state_type": "disabled",
            "type": "expression",
            "value": "%EnableMemoryTestCriteria% == false",
            "message": "Disabled when the Memory Test Criteria is disabled."
        },
        {
            "property": "AcceptableMemoryWriteLatency",
            "state_type": "disabled",
            "type": "expression",
            "value": "%EnableMemoryTestCriteria% == false",
            "message": "Disabled when the Memory Test Criteria is disabled."
        },
        {
            "property": "MemoryReadVarianceSuccessThreshold",
            "state_type": "disabled",
            "type": "expression",
            "value": "%EnableMemoryTestCriteria% == false",
            "message": "Disabled when the Memory Test Criteria is disabled."
        },
        {
            "property": "MemoryReadLatencySuccessThreshold",
            "state_type": "disabled",
            "type": "expression",
            "value": "%EnableMemoryTestCriteria% == false",
            "message": "Disabled when the Memory Test Criteria is disabled."
        },
        {
            "property": "MemoryWriteVarianceSuccessThreshold",
            "state_type": "disabled",
            "type": "expression",
            "value": "%EnableMemoryTestCriteria% == false",
            "message": "Disabled when the Memory Test Criteria is disabled."
        },
        {
            "property": "MemoryWriteLatencySuccessThreshold",
            "state_type": "disabled",
            "type": "expression",
            "value": "%EnableMemoryTestCriteria% == false",
            "message": "Disabled when the Memory Test Criteria is disabled."
        },


        {
            "property": "AcceptableNetworkReadVariance",
            "state_type": "disabled",
            "type": "expression",
            "value": "%EnableNetworkTestCriteria% == false",
            "message": "Disabled when the Network Test Criteria is disabled."
        },
        {
            "property": "AcceptableNetworkReadLatency",
            "state_type": "disabled",
            "type": "expression",
            "value": "%EnableNetworkTestCriteria% == false",
            "message": "Disabled when the Network Test Criteria is disabled."
        },
        {
            "property": "AcceptableNetworkWriteVariance",
            "state_type": "disabled",
            "type": "expression",
            "value": "%EnableNetworkTestCriteria% == false",
            "message": "Disabled when the Network Test Criteria is disabled."
        },
        {
            "property": "AcceptableNetworkWriteLatency",
            "state_type": "disabled",
            "type": "expression",
            "value": "%EnableNetworkTestCriteria% == false",
            "message": "Disabled when the Network Test Criteria is disabled."
        },
        {
            "property": "NetworkReadVarianceSuccessThreshold",
            "state_type": "disabled",
            "type": "expression",
            "value": "%EnableNetworkTestCriteria% == false",
            "message": "Disabled when the Network Test Criteria is disabled."
        },
        {
            "property": "NetworkReadLatencySuccessThreshold",
            "state_type": "disabled",
            "type": "expression",
            "value": "%EnableNetworkTestCriteria% == false",
            "message": "Disabled when the Network Test Criteria is disabled."
        },
        {
            "property": "NetworkWriteVarianceSuccessThreshold",
            "state_type": "disabled",
            "type": "expression",
            "value": "%EnableNetworkTestCriteria% == false",
            "message": "Disabled when the Network Test Criteria is disabled."
        },
        {
            "property": "NetworkWriteLatencySuccessThreshold",
            "state_type": "disabled",
            "type": "expression",
            "value": "%EnableNetworkTestCriteria% == false",
            "message": "Disabled when the Network Test Criteria is disabled."
        },


        {
            "property": "AcceptableStorageReadVariance",
            "state_type": "disabled",
            "type": "expression",
            "value": "%EnableStorageTestCriteria% == false",
            "message": "Disabled when the Storage Test Criteria is disabled."
        },
        {
            "property": "AcceptableStorageReadLatency",
            "state_type": "disabled",
            "type": "expression",
            "value": "%EnableStorageTestCriteria% == false",
            "message": "Disabled when the Storage Test Criteria is disabled."
        },
        {
            "property": "AcceptableStorageWriteVariance",
            "state_type": "disabled",
            "type": "expression",
            "value": "%EnableStorageTestCriteria% == false",
            "message": "Disabled when the Storage Test Criteria is disabled."
        },
        {
            "property": "AcceptableStorageWriteLatency",
            "state_type": "disabled",
            "type": "expression",
            "value": "%EnableStorageTestCriteria% == false",
            "message": "Disabled when the Storage Test Criteria is disabled."
        },
        {
            "property": "StorageReadVarianceSuccessThreshold",
            "state_type": "disabled",
            "type": "expression",
            "value": "%EnableStorageTestCriteria% == false",
            "message": "Disabled when the Storage Test Criteria is disabled."
        },
        {
            "property": "StorageReadLatencySuccessThreshold",
            "state_type": "disabled",
            "type": "expression",
            "value": "%EnableStorageTestCriteria% == false",
            "message": "Disabled when the Storage Test Criteria is disabled."
        },
        {
            "property": "StorageWriteVarianceSuccessThreshold",
            "state_type": "disabled",
            "type": "expression",
            "value": "%EnableStorageTestCriteria% == false",
            "message": "Disabled when the Storage Test Criteria is disabled."
        },
        {
            "property": "StorageWriteLatencySuccessThreshold",
            "state_type": "disabled",
            "type": "expression",
            "value": "%EnableStorageTestCriteria% == false",
            "message": "Disabled when the Storage Test Criteria is disabled."
        },


        {
            "property_group": "AutoDeployConfig",
            "state_type": "hidden",
            "type": "expression",
            "value": "has_deployment_config() == false",
            "message": "Auto-Deployment Configuration is not used when there aren't any templates that need auto-deploying."
        }
    ],
    "validations": [
        {
            "property": "MinInstanceCount",
            "type": "expression",
            "value": "(%MinInstanceCount% > %MaxInstanceCount%)",
            "message": "Minimum Instance Count must be less than or equal to the Maximum Instance Count."
        },
        {
            "property": "InitialInstanceCount",
            "type": "expression",
            "value": "(%MinInstanceCount% > %InitialInstanceCount%) || (%InitialInstanceCount% > %MaxInstanceCount%)",
            "message": "Initial Instance Count must be between the Minimum and Maximum Instance Count inclusive."
        },


        {
            "property": "EnableCpuTestCriteria",
            "type": "expression",
            "value": "(%EnableCpuTestCriteria% == false) && (%EnableMemoryTestCriteria% == false) && (%EnableNetworkTestCriteria% == false) && (%EnableStorageTestCriteria% == false)",
            "message": "Test criteria for at least one dimension must be enabled to run the test."
        },
        {
            "property": "EnableMemoryTestCriteria",
            "type": "expression",
            "value": "(%EnableCpuTestCriteria% == false) && (%EnableMemoryTestCriteria% == false) && (%EnableNetworkTestCriteria% == false) && (%EnableStorageTestCriteria% == false)",
            "message": "Test criteria for at least one dimension must be enabled to run the test."
        },
        {
            "property": "EnableNetworkTestCriteria",
            "type": "expression",
            "value": "(%EnableCpuTestCriteria% == false) && (%EnableMemoryTestCriteria% == false) && (%EnableNetworkTestCriteria% == false) && (%EnableStorageTestCriteria% == false)",
            "message": "Test criteria for at least one dimension must be enabled to run the test."
        },
        {
            "property": "EnableStorageTestCriteria",
            "type": "expression",
            "value": "(%EnableCpuTestCriteria% == false) && (%EnableMemoryTestCriteria% == false) && (%EnableNetworkTestCriteria% == false) && (%EnableStorageTestCriteria% == false)",
            "message": "Test criteria for at least one dimension must be enabled to run the test."
        }
    ]
}
